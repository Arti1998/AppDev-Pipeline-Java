@Library('shared-library') _

pipeline {
   agent any
   environment {
    azcon = credentials('azure-pasha')
   }
  
   
   stages {      
   stage('Store Public Ip') {
     steps {
       FetchPublicIP()
     }
    }
    
   stage('Deploy To Tomcat Container') {
      steps {
      withCredentials([usernamePassword(credentialsId: 'dockervmjava', passwordVariable: 'password', usernameVariable: 'username')]) {
        DeployToTomcatContainer(username, password)
        cleanWs()
        }
      }
      } 
  }  
  }

@Library('shared-library') _
pipeline {
  agent any
  environment {
    azcon = credentials('azure-pasha')
  }
   
   stages {   
    
    stage('Infra Provisioning') {
      steps {
        Infra()
      }
    }
    stage('Store Public Ip') {
      steps {
       FetchPublicIP()
      }
    }
    stage('Download Artifact Form Nexus') {
      steps {
        DownloadFromNexus()
      }
      }
    stage('DeployToTomcat') {
      steps {
        DeployToTomcat()
      }
    }
   
   
    
  }
}
